@{
    string FlowID = Request.QueryString["flowid"];
    string StepID = Request.QueryString["stepid"];
    string GroupID = Request.QueryString["groupid"];
    string TaskID = Request.QueryString["taskid"];
    string InstanceID = Request.QueryString["instanceid"];
    string DisplayModel = Request.QueryString["display"] ?? "0";
    string DBConnID = "06075250-30dc-4d32-bf97-e922cb30fac8";
    string DBTable = "TempTest";
    string DBTablePK = "ID";
    string DBTableTitle = "Title";
    Business.Platform.Dictionary BDictionary = new Business.Platform.Dictionary();
    Business.Platform.WorkFlow BWorkFlow = new Business.Platform.WorkFlow();
    Business.Platform.WorkFlowTask BWorkFlowTask = new Business.Platform.WorkFlowTask();
    LitJson.JsonData initData = BWorkFlow.GetFormData(DBConnID, DBTable, DBTablePK, InstanceID);
    string TaskTitle = BWorkFlow.GetFromFieldData(initData, DBTable, DBTableTitle);
}
<link href="~/Platform/WorkFlow/FormDesigner/Forms/Public/flowform.css" rel="stylesheet" type="text/css" />
<script src="~/Platform/WorkFlow/FormDesigner/Forms/Public/common.js" type="text/javascript"></script>
<input type="hidden" id="Form_ValidateAlertType" name="Form_ValidateAlertType" value="1" />
<input type="hidden" id="TempTest.Title" name="TempTest.Title" value="@(TaskTitle.IsNullOrEmpty() ? BWorkFlow.GetAutoTaskTitle(FlowID, StepID, Request.QueryString["groupid"]) : TaskTitle)" />
<input type="hidden" id="Form_TitleField" name="Form_TitleField" value="TempTest.Title" />
<input type="hidden" id="Form_DBConnID" name="Form_DBConnID" value="06075250-30dc-4d32-bf97-e922cb30fac8" />
<input type="hidden" id="Form_DBTable" name="Form_DBTable" value="TempTest" />
<input type="hidden" id="Form_DBTablePk" name="Form_DBTablePk" value="ID" />
<input type="hidden" id="Form_DBTableTitle" name="Form_DBTableTitle" value="Title" />
<input type="hidden" id="Form_AutoSaveData" name="Form_AutoSaveData" value="1" />
<script type="text/javascript">
    var initData = @Html.Raw(BWorkFlow.GetFormDataJsonString(initData));
    var fieldStatus = @Html.Raw(BWorkFlow.GetFieldStatus(FlowID, StepID));
    var displayModel = '@DisplayModel';
    $(function (){
        formrun.initData(initData, "TempTest", fieldStatus, displayModel);
    });
</script>
<p style="text-align: center;"></p>
<p style="text-align: center;"><span style="font-size: 24px;"><strong>请假申请 </strong></span></p>
<p></p>
<table class="flowformtable" cellspacing="1" cellpadding="0">
    <tbody>
        <tr class="firstRow">
            <td width="513" valign="top" style="-ms-word-break: break-all;">请假人：<input name="TempTest.UserID" class="mymember" id="TempTest.UserID" type="text" value="u_@Business.Platform.Users.CurrentUserID.ToString()" type1="flow_org" more="0" isflow="1" dept="0" station="0" user="1" workgroup="0" unit="0" rootid=""/></td>
            <td width="513" valign="top" style="-ms-word-break: break-all;">所在部门：<input name="TempTest.DeptID" class="mymember" id="TempTest.DeptID" type="text" value="@Business.Platform.Users.CurrentDeptID" type1="flow_org" more="0" isflow="1" dept="1" station="0" user="0" workgroup="0" unit="0" rootid="@BWorkFlowTask.GetFirstSnderDeptID(FlowID.ToGuid(), GroupID.ToGuid())"/></td>
        </tr>
        <tr>
            <td width="513" valign="top" style="-ms-word-break: break-all;">开始时间：<input name="TempTest.Date1" class="mycalendar" id="TempTest.Date1" type="text" value="" defaultvalue="" type1="flow_datetime" istime="1" isflow="1" /></td>
            <td width="513" valign="top" style="-ms-word-break: break-all;">结束时间：<input name="TempTest.Date2" class="mycalendar" id="TempTest.Date2" type="text" value="" defaultvalue="" type1="flow_datetime" istime="1" isflow="1" /></td>
        </tr>
        <tr>
            <td width="513" valign="top" style="-ms-word-break: break-all;">请假类型：<input name="TempTest.Type" id="TempTest.Type_0" style="vertical-align: middle;" type="radio" value="0" type1="flow_radio" isflow="1" /><label style="margin-right: 3px; vertical-align: middle;" for="TempTest.Type_0">事假</label><input name="TempTest.Type" id="TempTest.Type_1" style="vertical-align: middle;" type="radio" value="1" type1="flow_radio" isflow="1" /><label style="margin-right: 3px; vertical-align: middle;" for="TempTest.Type_1">病假</label><input name="TempTest.Type" id="TempTest.Type_2" style="vertical-align: middle;" type="radio" value="2" type1="flow_radio" isflow="1" /><label style="margin-right: 3px; vertical-align: middle;" for="TempTest.Type_2">婚假</label><input name="TempTest.Type" id="TempTest.Type_3" style="vertical-align: middle;" type="radio" value="3" type1="flow_radio" isflow="1" /><label style="margin-right: 3px; vertical-align: middle;" for="TempTest.Type_3">年假</label><input name="TempTest.Type" id="TempTest.Type_4" style="vertical-align: middle;" type="radio" value="4" type1="flow_radio" isflow="1" /><label style="margin-right: 3px; vertical-align: middle;" for="TempTest.Type_4">产假</label><input name="TempTest.Type" id="TempTest.Type_5" style="vertical-align: middle;" type="radio" value="5" type1="flow_radio" isflow="1" /><label style="margin-right: 3px; vertical-align: middle;" for="TempTest.Type_5">陪护假</label><input name="TempTest.Type" id="TempTest.Type_6" style="vertical-align: middle;" type="radio" value="6" type1="flow_radio" isflow="1" /><label style="margin-right: 3px; vertical-align: middle;" for="TempTest.Type_6">其它</label><span id="_baidu_bookmark_start_47" style="line-height: 0px; display: none;">?</span></td>
            <td width="513" valign="top" style="-ms-word-break: break-all;">请假天数：<input name="TempTest.Days" class="mytext" id="TempTest.Days" type="text" value="" valuetype="3" type1="flow_text" isflow="1" /></td>
        </tr>
        <tr>
            <td valign="top" style="-ms-word-break: break-all;" rowspan="1" colspan="2">
                <p>请假事由：</p>
                <p>
                    <textarea name="TempTest.Reason" class="mytext" id="TempTest.Reason" style="width: 85%; height: 70px;" maxlength="500" type1="flow_textarea" isflow="1"></textarea></p>
            </td>
        </tr>
    </tbody>
</table>
<p></p>
